<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Chat</title>

    <!-- Firebase SDK using modules -->
    <script type="module" src="script.js">
        // Import necessary Firebase modules
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js";
        import { getDatabase, ref, push, onValue } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-database.js";

        // Firebase configuration (replace with your own)
        const firebaseConfig = {
            apiKey: "AIzaSyC72WABeQ2e117WwxS7BAs_L1A2cIo0u0Y",
            authDomain: "messagingapp-9bac7.firebaseapp.com",
            databaseURL: "https://messagingapp-9bac7-default-rtdb.firebaseio.com/", // <-- Use your actual database URL
            projectId: "messagingapp-9bac7",
            storageBucket: "messagingapp-9bac7.firebasestorage.app",
            messagingSenderId: "369463204028",
            appId: "1:369463204028:web:a932d813be7ac41f5b98b9"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);

        // Expose db and other Firebase methods globally for script.js
        window.db = db;
        window.ref = ref;
        window.push = push;
        window.onValue = onValue;
    </script>

    <style>
        body { font-family: Arial, sans-serif; text-align: center; }
        #messages { width: 80%; max-width: 500px; margin: 20px auto; border: 1px solid #ccc; padding: 10px; height: 300px; overflow-y: scroll; }
        input, button { margin: 5px; padding: 10px; }
    </style>
</head>
<body>
    <h2>Simple Chat</h2>
    <div id="messages"></div>
    <input type="text" id="username" placeholder="Enter your username">
    <input type="text" id="message" placeholder="Type a message">
    <button onclick="sendMessage()">Send</button>

    <!-- Link to your custom script.js -->
    <script defer src="script.js"></script>
</body>
</html>
